<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>群晖NAS权限设置</title>
      <link href="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/"/>
      <url>/2021/12/29/qun-hui-nas-quan-xian-she-zhi/</url>
      
        <content type="html"><![CDATA[<h1>群晖NAS：共享文件夹、用户、群组建立及权限设置</h1><h2>1. 前提条件和目的</h2><ol><li>前提条件：NAS 版本：DSM-DS3615，先登录管理员账号进行设置</li><li>目的：用户通过 windows 网络共享，开启权限验证</li></ol><h2>2. 设置共享文件夹</h2><ol><li><p>创建共享文件夹</p><p>在群晖 DSM 中有两个位置可以创建共享文件夹一个在控制面板中，另一个在 File station 中，其中在控制面板中可以设置共享文件夹名称和删除共享文件夹。</p><p>在控制面板 ----&gt; 共享文件夹 ----&gt; 新建</p><p><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/1.jpg" alt></p></li><li><p>进入共享文件夹创建向导，填写共享文件夹的名称，选择存储的位置</p><p><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/2.jpg" alt></p></li><li><p>是否给共享文件夹加密，加密之后会有解密 key 生成（根据需要进行加密）</p><p><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/3.png" alt></p><p><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/4.jpg" alt></p></li><li><p>是否启用共享文件夹配额，这里的配额是指这个共享文件夹能够使用整个系统多大的空间（当超过这个阀值后，再存入数据进去就会报错，并提示空间不足）<br><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/5.jpg" alt></p></li><li><p>应用完成共享文件夹的创建<br><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/6.jpg" alt></p></li><li><p>设置用户对改共享文件夹的权限<br><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/7.jpg" alt></p></li><li><p>共享文件夹创建完成<br><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/8.jpg" alt></p></li></ol><h2>3. 系统内置的共享文件夹</h2><br>    当需要这些共享文件夹的服务或应用程序启用时，系统自动创建这些系统内置的共享文件夹（这些文件夹建议不要删除，删除后可能出现套件无法正常使用）。<table><tr><th>名称</th><th>描述</th></tr><tr><td>Chat</td><td>Chat 文件夹包括应用程序中的附件，包括上传的文件、URL缩略图和配置文件的图像。此文件夹将用于安装 Chat 时自动创建。</td></tr><tr><td>web</td><td>web 文件夹存放了网站的内容。Web Station 启用后，会自动创建文件夹。</td></tr><tr><td>photo</td><td>photo 文件夹包含你要在 Photo Station 上分享的照片和视频。启用 Photo Station 或DLNA/UPnp 媒体服务器时，将自动创建此文件夹。</td></tr><tr><td>music</td><td>music 文件夹包含了你要在 Audio Station 上分享的音乐。此文件夹将于 Audio Station 启用时自动创建。</td></tr><tr><td>video</td><td>video 文件夹存放了你想通过DLNA/UPnp DMA浏览的视频文件，此文件夹将于媒体服务器启用时自动创建。</td></tr><tr><td>surveillance</td><td>surveillance 文件夹包含 Surveillance Station 录制的视频，Surveillance Station 启用后，会自动创建此文件夹。</td></tr><tr><td>home</td><td>home 文件夹为每位用户提供私密空间，以便放置只有个人才能访问的数据，用户主目录启用后，会自动创建此文件夹</td></tr><tr><td>web</td><td>web 文件夹存放了网站的内容。Web Station 启用后，会自动创建文件夹。</td></tr><tr><td>homes</td><td>homes 文件夹包含所有用户的 home 文件夹，用户主目录启用后，会自动创建此文件夹。供系统管理员可以访问并管理所有用户的home文件夹。</td></tr><tr><td>NetBackup</td><td>NetBackup 文件夹将于网络备份服务启用时自动创建</td></tr><tr></tr><tr><td>usbshare</td><td>usbshare 在将USB硬盘连接到 Synology NAS 设备的USB端口时，将会自动创建文件夹</td></tr><tr></tr><tr><td>esatashare</td><td>esatashare 在将 eSATA 硬盘连接到 Synology NAS 设备的 eSATA接口时，将会自动创建esatashare文件夹</td></tr><tr></tr></table><h2>4. 设置共享文件夹权限</h2><ol><li><p>选择控制面板 ----&gt; 共享文件夹，选择创建好的共享问价夹，单击编辑。</p><p><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/9.jpg" alt></p></li><li><p>该界面就是共享文件夹的属性面板包括：存储的位置、权限设置等。这里我们选择权限。</p><p><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/10.jpg" alt></p></li><li><p>这里我们可以看到针对用户，对该文件夹的权限设置</p><p><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/11.jpg" alt></p></li><li><p>我们还可以更加精细化给文件夹设置权限，勾选 “自定义”。在这里我们可以设置文件夹用户对这个共享文件夹，更可以设置这个文件夹和其下面的子文件夹、子文件、后代文件</p><p><img src="/2021/12/29/qun-hui-nas-quan-xian-she-zhi/12.jpg" alt></p></li></ol><h2>5. ACL 权限可以按照以下分类</h2><ul><li><p>管理：</p><p>更改权限：这可以控制用户是否可以更改文件或文件夹权限。</p><p>取得所有权：这可以控制用户是否有文件或文件夹的所有权。</p></li><li><p>读取：</p><p>遍历文件夹 / 执行文件：这可以控制用户是否可以运行程序文件。</p><p>列出文件夹 / 读取数据：这可以控制用户是否可以读取文件数据。</p><p>读取属性：这可以控制用户是否可以查看文件属性。</p><p>读取扩展属性：这可以控制用户是否可以查看文件扩展属性。</p><p>读取权限：这可以控制用户是否可以读取文件或文件夹权限。</p></li><li><p>写入：</p><p>创建文件 / 写入数据：这可以控制用户是否可以更改文件内容。</p><p>创建文件夹 / 附加数据：这可以控制用户是否可以在文件末尾添加数据。</p><p>写入属性：这可以控制用户是否可以更改文件属性。</p><p>写入扩展属性：这可以控制用户是否可以更改文件扩展属性。</p><p>删除子文件夹和文件：这可以控制用户是否可以删除文件夹。</p><p>删除：这可以控制用户是否可以删除文件。</p></li><li><p>关于权限继承：</p><p>ACL 权限从父对象继承到子对象。例如，如果 “sales” 文件夹的 ACL 条目授予 “读取” 权限给用户 “Amy”，则该 ACL 条目将应用到 “sales” 文 件夹中的所有文件（例如：“annual report.xls”），允许用户打开文件。继承权限将显示为灰色，而对象的自身权限（或 “显式” 权限）将显示为黑色。</p></li></ul><h2>特别鸣谢</h2><ul><li><p>特别鸣谢</p><p>感谢<a href="http://www.sanzangziben.com/">三藏集团</a>给予的实践机会。如公司有股权架构，顶层设计，股权激励等需求可以访问三藏集团官网：<a href="http://www.sanzangziben.com/">http://www.sanzangziben.com/</a><br> 或直接联系：15852078135 臧先生</p><p>本文内容转载于<a href="https://zhuanlan.zhihu.com/p/146083177">知乎江东网</a></p><p>群晖 nas 购买和售后及更多内容可以访问<a href="https://jdx86.com/">江东网</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 群晖NAS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NAS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>群晖NAS安装DSM操作系统</title>
      <link href="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/"/>
      <url>/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/</url>
      
        <content type="html"><![CDATA[<h1>群晖NAS安装DSM系统</h1><h2>网络连接</h2>安装前提是要保证设备能够正常联网<ul><li><p>连接拓扑</p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/1.png" alt></p></li></ul><p>将 NAS 中的一个口连接到网络并按电源键打开 NAS 电源</p><h2>Synology Assistant</h2><ul><li><p>在连接到同一网络的一台电脑上安装 Synology Assistant 软件， Windows 版本下载地址如下：<br><a href="https://global.download.synology.com/download/Tools/Assistant/6.2-23733/Windows/synology-assistant-6.2-23733.exe">https://global.download.synology.com/download/Tools/Assistant/6.2-23733/Windows/synology-assistant-6.2-23733.exe</a></p></li><li><p>双击未安装安装系统的 NAS 项</p><p>在弹出的对话框中打勾并点击确定</p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/2.png" alt></p></li><li><p>这时系统会使用默认浏览器打开 NAS 的 Web Assistant 界面 (如果你使用的是双核浏览器，记得切换为极速模式，在群晖 NAS 使用过程中也请一直保持极速模式) 。打开页面点击设置按键</p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/3.png" alt></p></li><li><p>如果你的 NAS 无法连接到互联网那你可以先将对应型号的 DSM 系统安装文件下载到电脑中，并在此步中点击手动安装，如果 NAS 可以连接到互联网，直接点击立即安装。</p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/4.png" alt></p></li><li><p>在弹出的对话框打勾并点击确定。</p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/5.png" alt></p></li><li><p>这里 Web Assistant 会自动下载对应 DSM 系统文件并安装，等待大概 10 分钟左右即可。这个网页不能关闭，安装完后会自跳转。</p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/6.png" alt></p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/7.png" alt></p></li><li><p>系统设置</p><p>DSM 系统安装完成后伴随着 “滴” 的一声响， NAS 就已经启动完成了。网页会自动跳转到设置页面。在下图的页面中输入服务器名称、管理员用户名、密码三个信息。这个管理员是这台 NAS 的超级管理员，所以数据都可以通过这个账号操作。群晖 NAS 中的用户名可以使用中文，但建议使用字母作为用户名，在某些环境中无法使用中文输入无法 ( 如 ABB 的系统恢复界面中 ) 。输入完三个信息后点击下一步按钮</p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/8.png" alt></p></li><li><p>如果你的 NAS 需要通过互联网访问并且你的网络出口没有公网 IP ，那么你可以设置 QC 来解决此问题，设置 QC 前需要在群晖的官网注册一个 Synology 账号，注册完成后在这里输入账号信息并输入你自定义的 QC ID ，点击下一步按钮。</p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/9.png" alt></p></li><li><p>如果你还不是很了解群晖 NAS 的功能，那建议你直接点击下一步按钮， NAS 会自动给你安装以下应用。</p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/10.png" alt></p></li><li><p>在这个页面打勾的话可以当你忘记 NAS 的 IP 时在浏览器中输入 <a href="http://find.synology.com">find.synology.com</a> 来找到 NAS 。</p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/11.png" alt></p></li><li><p>就这样，我们进入了群晖 NAS 的 DSM 管理界面。</p><p><img src="/2021/12/29/qun-hui-nas-an-zhuang-dsm-cao-zuo-xi-tong/12.png" alt></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 群晖NAS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NAS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux防火墙及开放端口管理</title>
      <link href="/2021/12/29/linux-fang-huo-qiang-ji-kai-fang-duan-kou-guan-li/"/>
      <url>/2021/12/29/linux-fang-huo-qiang-ji-kai-fang-duan-kou-guan-li/</url>
      
        <content type="html"><![CDATA[<h1>Linux防火墙管理</h1><h2>1. 防火墙开启关闭</h2><ul><li><p>查看防火墙状态，是否开启？</p>  <pre class="line-numbers language-none"><code class="language-none">systemctl status firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>开启关闭防火墙</p>  <pre class="line-numbers language-none"><code class="language-none">systemctl start firewalld  #开启防火墙systemctl stop firewalld    #关闭防火墙<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>查看所有开启的端口</p>  <pre class="line-numbers language-none"><code class="language-none">firewall-cmd --list-ports<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>注：启动防火墙后，默认没有开启任何端口，需要手动开启端口</p></li><li><p>防火墙开启端口访问</p>  <pre class="line-numbers language-none"><code class="language-none">firewall-cmd --zone&#x3D;public --add-port&#x3D;80&#x2F;tcp --permanent<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>命令含义：  --zone #作用域    --add-port=80/tcp #添加端口，格式为：端口 / 通讯协议    --permanent #永久生效，没有此参数重启后失效</p><p>注：开启后需要重启防火墙才生效</p></li><li><p>重启防火墙</p>  <pre class="line-numbers language-none"><code class="language-none">firewall-cmd --reload<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/2021/12/29/linux-fang-huo-qiang-ji-kai-fang-duan-kou-guan-li/1.png" alt><br>再执行 firewall-cmd --list-ports 查看一次，则发现已开启：</p><p><img src="/2021/12/29/linux-fang-huo-qiang-ji-kai-fang-duan-kou-guan-li/2.png" alt></p></li><li><p>其他常用命令：</p>  <pre class="line-numbers language-none"><code class="language-none">firewall-cmd --state         #查看防火墙状态，是否是runningfirewall-cmd --reload        #重新载入配置，比如添加规则之后，需要执行此命令firewall-cmd --get-zones     #列出支持的zonefirewall-cmd --get-services  #列出支持的服务，在列表中的服务是放行的firewall-cmd --query-service ftp   #查看ftp服务是否支持，返回yes或者nofirewall-cmd --add-service&#x3D;ftp      #临时开放ftp服务firewall-cmd --add-service&#x3D;ftp --permanent    #永久开放ftp服务firewall-cmd --remove-service&#x3D;ftp --permanent  #永久移除ftp服务firewall-cmd --add-port&#x3D;80&#x2F;tcp --permanent    #永久添加80端口 firewall-cmd --remove-port&#x3D;80&#x2F;tcp --permanent    #永久移除80端口 firewall-cmd --zone&#x3D;public --list-ports   #查看已开放的端口iptables -L -n               #查看规则，这个命令是和iptables的相同的man firewall-cmd   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2>2. 端口管理</h2><ul><li><p>开放端口</p>  <pre class="line-numbers language-none"><code class="language-none">firewall-cmd --zone&#x3D;public --add-port&#x3D;5672&#x2F;tcp --permanent   # 开放5672端口firewall-cmd --zone&#x3D;public --remove-port&#x3D;5672&#x2F;tcp --permanent  #关闭5672端口firewall-cmd --reload   # 配置立即生效<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>查看防火墙所有开放的端口</p>  <pre class="line-numbers language-none"><code class="language-none">firewall-cmd --zone&#x3D;public --list-ports<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>关闭防火墙</p><p>如果要开放的端口太多，嫌麻烦，可以关闭防火墙，安全性自行评估</p>  <pre class="line-numbers language-none"><code class="language-none">systemctl stop firewalld.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>查看防火墙状态</p>  <pre class="line-numbers language-none"><code class="language-none">firewall-cmd --state<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>查看监听的端口</p>  <pre class="line-numbers language-none"><code class="language-none">netstat -lnpt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/2021/12/29/linux-fang-huo-qiang-ji-kai-fang-duan-kou-guan-li/3.png" alt></p></li><li><p>检查端口被哪个进程占用</p>  <pre class="line-numbers language-none"><code class="language-none">netstat -lnpt |grep 5672<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/2021/12/29/linux-fang-huo-qiang-ji-kai-fang-duan-kou-guan-li/4.png" alt></p></li><li><p>查看进程的详细信息</p>  <pre class="line-numbers language-none"><code class="language-none">ps 6832<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/2021/12/29/linux-fang-huo-qiang-ji-kai-fang-duan-kou-guan-li/5.png" alt></p></li><li><p>中止进程</p>  <pre class="line-numbers language-none"><code class="language-none">kill -9 6832<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2>3. Centos 不同版本之间的命令差别</h2><h3>1. Centos 6.x版本 iptables</h3><ul><li>查看防火墙状态  <pre class="line-numbers language-none"><code class="language-none">service iptables status<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>如果返回  <code>iptables：Firewall is not runing.</code>  说明防火墙没有开启  <pre class="line-numbers language-none"><code class="language-none">开启防火墙：service iptables start关闭防火墙：service iptables stop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h3>2. Centos 7版本 firewall</h3><ul><li>查看当前防火墙状态  <pre class="line-numbers language-none"><code class="language-none">systemctl status firewalld.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>执行后可以看到绿色字样标注的 “active（running）”，说明防火墙是开启状态</li><li>关闭防火墙命令  <pre class="line-numbers language-none"><code class="language-none">systemctl stop firewalld.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>关闭后，使用命令 systemctl status firewalld.service 可以看到，disavtive（dead）的字样，说明防火墙已经关闭</li><li>开启防火墙  <pre class="line-numbers language-none"><code class="language-none">systemctl start firewalld.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li>关闭开机自启动，禁止防火墙服务器  <pre class="line-numbers language-none"><code class="language-none">systemctl disable firewalld.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li>开启开机启动  <pre class="line-numbers language-none"><code class="language-none">systemctl enable firewalld.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h3>3. CentOS7 默认使用firewalld防火墙，如果想换回iptables防火墙，可关闭firewalld并安装iptables。</h3><ul><li><p>安装 iptables-services</p>  <pre class="line-numbers language-none"><code class="language-none">yum install iptables-services<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>修改防火墙配置文件</p>  <pre class="line-numbers language-none"><code class="language-none">vi &#x2F;etc&#x2F;sysconfig&#x2F;iptables<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>默认文件是：<br><img src="/2021/12/29/linux-fang-huo-qiang-ji-kai-fang-duan-kou-guan-li/6.png" alt><br>在修改之前使用 telnet 命令查看端口是否开放。</p><p>1. 启动 telnet。控制面板–&gt; 程序和功能–&gt; 打开或关闭 windows 功能–&gt; 勾选 Telnet 的两个选项。</p><p>2. 打开 cmd 窗口，输入 telnet，如果端口关闭或者无法连接，则显示不能打开到主机的链接，链接失败；端口打开的情况下，链接成功，则进入 telnet 页面（全黑的），证明端口可用。</p><p>（1）telnet IP 端口</p><p>（2）telnet 域名 端口。<br><img src="/2021/12/29/linux-fang-huo-qiang-ji-kai-fang-duan-kou-guan-li/7.png" alt></p>  <pre class="line-numbers language-none"><code class="language-none">esc :wq! 退出保存修改。<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>添加端口 80、8080、3306、3690 端口<br><img src="/2021/12/29/linux-fang-huo-qiang-ji-kai-fang-duan-kou-guan-li/10.png" alt></p> <pre class="line-numbers language-none"><code class="language-none">esc :wq! 退出保存修改。<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>注意：添加在端口 22 上面或者下面，不要放在最后，不然不起作用。</p></li><li><p>重启防火墙使配置生效</p> <pre class="line-numbers language-none"><code class="language-none">systemctl restart iptables.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>刚刚 yum install iptables.service 之后系统如果没有重启，iptables.service 是找不到的，会报 unit not fount。耽误时间的小坑！</p><p>设置防火墙开机启动:</p> <pre class="line-numbers language-none"><code class="language-none">systemctl enable iptables.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 服务器操作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL命令合集</title>
      <link href="/2021/12/27/mysql-ming-ling-he-ji/"/>
      <url>/2021/12/27/mysql-ming-ling-he-ji/</url>
      
        <content type="html"><![CDATA[<h1>MySQL命令合集（部分）</h1><h2>1. 启动和停止MySQL</h2><ul><li><p>MySQL 启动</p><p>注意：需要输入你自己的 MySQL 名称</p>  <pre class="line-numbers language-none"><code class="language-none">net start mysql  #启动MySQLnet stop mysql #停止MySQL服务<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>登录 MySQL</p><p>mysql -u 用户名 -p 用户密码<br>键入命令 mysql -uroot -p， 回车后提示你输入密码，输入 12345，然后回车即可进入到 mysql 中了，mysql 的提示符是：</p><p>mysql&gt;</p><p>注意，如果是连接到另外的机器上，则需要加入一个参数 - h 机器 IP</p></li></ul><h2>2. 数据库操作CRUD增删改查</h2><ul><li><p>查询数据库</p><p>查询所有： <code>show databases</code> <br> 切换数据库： <code>use 数据库名</code></p></li><li><p>新增增数据库</p><p><code>  create database knowledge_base_daily;  </code></p><p>如果返回 Query OK, 1 row affected (0.00 sec)，说明创建成功</p></li><li><p>修改数据库</p>  <pre class="line-numbers language-none"><code class="language-none">ALTER DATABASE 数据库名  #修改数据库名称CHARACTER SET 编码      #修改编码 如:utf8COLLATE 校对规则         #修改校对规则  如：utf8_general_ci<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>删除数据库</p><p><code>  drop database 数据库名;  </code></p></li><li><p>给 root 用户授权</p>  <pre class="line-numbers language-none"><code class="language-none">grant all privileges on *.* to root@&quot;%&quot; identified by &quot;.&quot;;flush privileges; #刷新数据库<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h2>3. 数据库表的操作</h2><h3>CRUD增删改查</h3><ul><li>创建表  <pre class="line-numbers language-none"><code class="language-none">CREATE TABLE &lt;表名&gt; ([表定义选项])[表选项][分区选项];如：CREATE TABLE student(id INT(11),name VARCHAR(25),deptId INT(11),salary FLOAT);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li>修改表操作  <pre class="line-numbers language-none"><code class="language-none">update MYTABLE set 修改字段 &#x3D; 修改内容 where 条件依据 &#x3D; 条件字段内容;如：update MYTABLE set name &#x3D; &quot;祸袁&quot; where id &#x3D; &#39;1&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li>查询表  <pre class="line-numbers language-none"><code class="language-none">select * from 表名       #查询表中所有的数据如：select * from student&#x2F;&#x2F;根据条件查询所有信息select * from 表名 where 条件依据 &#x3D; 条件字段内容;select * from student where id &#x3D; 1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>删除表  <pre class="line-numbers language-none"><code class="language-none">delete TABLE 表名   #删除一张表delete TABLE 表名 where 条件依据 &#x3D; 条件字段内容; 删除表中某一行数据<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li>清空表数据  <pre class="line-numbers language-none"><code class="language-none">delete from 表名;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2>4. 数据库导出和导入</h2><h3>1. MySQL命令导入和导出</h3>    图形界面就不说了，直接右键导入和导出就可以，下面的都是在数据库中执行的命令<ul><li>导出数据库  <pre class="line-numbers language-none"><code class="language-none">mysqldump -uroot -p 数据库名 &gt; D:\导出文件名.sql  #后面接自己的盘符mysqldump -uroot -p 数据库名 表名&gt; D:\导出文件名.sql #导出某一张表的数据<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li>导入数据库  <pre class="line-numbers language-none"><code class="language-none">show databases; #查看所有数据库use 数据库名;    #确定到需要导入的数据库中source d:\文件名.sql #开始导入，注意，这个语句后面不需要加;号，因为后面的sql文件的位置<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><h3>2. Linux下导入和导出MySQL</h3><ul><li><p>导出数据和表结构</p><p>一般我们都会将数据和表的结构都导出成 sql 语句，所有都执行这个就可以</p><p>注意 MySQL 命令的位置，一般都是在 bin 目录下执行 /usr/local/mysql/bin/</p>  <pre class="line-numbers language-none"><code class="language-none">cd &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin&#x2F;  #切换命令目录mysqldump -u用户名 -p密码 数据库名 &gt; 数据库名.sql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>只导出表结构</p>  <pre class="line-numbers language-none"><code class="language-none">mysqldump -u用户名 -p密码 -d 数据库名 &gt; 数据库名.sql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>导入数据库</p><p>1、首先建空数据库（如果有就可以忽略）</p>  <pre class="line-numbers language-none"><code class="language-none">mysql&gt;create database abc;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>2、导入数据库<br>方法一：</p>  <pre class="line-numbers language-none"><code class="language-none">mysql&gt;use student;              #切换到需要导入的数据库mysql&gt;set names utf8;           #设置数据库编码格式mysql&gt;source &#x2F;home&#x2F;student&#x2F;student.sql;  #执行导入命令。注意sql文件的路径<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>方法二：</p>  <pre class="line-numbers language-none"><code class="language-none">mysql -u用户名 -p密码 数据库名 &lt; 数据库名.sql例如：#mysql -uroot -p123456 student &lt; student.sql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><h2>5. 外连接和内连接</h2><h3>外连接</h3><ul><li><p>左连接：</p><p>定义：是以左表为基础，根据 ON 后给出的两表的条件将两表连接起来。结果会将左表所有的查询信息列出，而右表只列出 ON 后条件与左表满足的部分<br>以 A 表和 B 表为例子<br>将 A 表的记录都查询出来，B 表中 id 等于 id 的都查询出来了且左侧为 1 对应的信息。</p>  <pre class="line-numbers language-none"><code class="language-none">SELECT * FROM &#96;A&#96; LEFT JOIN B  ON id &#x3D; 1;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>右连接：</p><p>定义：以右表为基础，根据 ON 后给出的两表的条件将两表连接起来。结果会将右表所有的查询信息列出，而左表只列出 ON 后条件与右表满足的部分。右连接全称为右外连接，是外连接的一种。</p> <pre class="line-numbers language-none"><code class="language-none">select * from  A RIGHT JOIN B on a.id  &#x3D; b.id<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h3>内连接</h3><ul><li><p>定义</p><p>使用比较运算符根据每个表共有的列的值匹配两个表中的行；</p>  <pre class="line-numbers language-none"><code class="language-none">select * from  A INNER JOIN B on a.id  &#x3D; b.id<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2>持续更新中。。。</h2>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux环境配置tomcat和redis</title>
      <link href="/2021/12/26/linux-huan-jing-pei-zhi-tomcat-he-redis/"/>
      <url>/2021/12/26/linux-huan-jing-pei-zhi-tomcat-he-redis/</url>
      
        <content type="html"><![CDATA[<h1>Linux 环境配置 Tomcat 和 Redis</h1><h2>1. Tomcat 安装</h2><h3>1.1 下载安装包</h3><ul><li><p>安装 tomcat 需要先配置 jdk，所以没有配置 jdk 同学，先移步<a href="/2021/12/25/linux-xia-mysql-he-java-de-pei-zhi/" title="Linux配置jdk">Linux配置jdk</a></p></li><li><p>卸载 tomcat ，检查 tomcat 是否安装 tomcat</p><p><code>  rpm -qa|grep tomcat  </code></p><p>查看下系统信息，确认是 32 位还是 64 位：uname -a</p><p>输入<br> <code>  rpm -qa|grep tomcat  </code></p><p>如果有通过</p>  <pre class="line-numbers language-none"><code class="language-none">rpm -e &#96;rpm -qa|grep tomcat&#96;(或rpm -e 加上面rpm -qa|grep tomcat显示的结果)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>注意：一般 tomcat 安装都是通过压缩包的方式，所以这一步可以跳过<br><img src="/2021/12/26/linux-huan-jing-pei-zhi-tomcat-he-redis/Tomcat/tom1.png" alt></p></li><li><p>下载 tomcat</p><p>进入<a href="https://tomcat.apache.org/download-90.cgi"> Tomcat 官网下载</a><br><br>点击下载，找到  Binary Distributions<br><img src="/2021/12/26/linux-huan-jing-pei-zhi-tomcat-he-redis/Tomcat/tom2.png" alt></p></li></ul><h3>1.2 解压安装</h3><ul><li><p>安装</p><p>先进入你要上传的位置，执行命令 rz , 在本机弹窗选择文件窗口，选择上传</p><p><code>  tar -xzvf  apache-tomcat-9.0.0.M9.tar.gz   #解压即可  </code> <br><img src="/2021/12/26/linux-huan-jing-pei-zhi-tomcat-he-redis/Tomcat/tom3.png" alt></p></li><li><p>重命名配置文件<br> <code>  mv apache-tomcat-9.0.8 tomcat9  </code></p></li></ul><h3>1.3 配置环境</h3><ul><li><p>添加 tomcat 环境变量</p><p><code>  CATALINA_HOME=/usr/local/tomcat        #tomcat环境变量  </code></p><p>如果不知道这个地方是在哪里配置，可以看我的文章<a href="/2021/12/25/linux-xia-mysql-he-java-de-pei-zhi/" title="Linux配置环境变量">Linux配置环境变量</a>，都在一起，直接在末尾添加。</p></li><li><p>修改 tomcat 端口</p><p>进入 conf 文件夹 vi server.xml 编辑配置文件</p><p><code>  &lt;Connector port=&quot;8088&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot;/&gt;  </code></p><p>这种修改对于 8080 端口冲突是可以解决的，但是如果想同时使用两个 tomcat，那么这样的修改还不完整，因为还有其它的端口会冲突。我们仍需要继续修改</p>  <pre class="line-numbers language-none"><code class="language-none">&lt;Connector port&#x3D;&quot;8089&quot; protocol&#x3D;&quot;AJP&#x2F;1.3&quot; redirectPort&#x3D;&quot;8443&quot; &#x2F;&gt; &lt;Server port&#x3D;&quot;8085&quot; shutdown&#x3D;&quot;SHUTDOWN&quot;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>:wq 保存退出</p></li><li><p>1.4 启动 tomcat</p><p>进入解压目录的 bin 文件夹，运行命令 <code>./startup.sh</code>  <br><br>如果想要知道 tomcat 的其他操作命令可以看我的另一篇文章</p>  <a href="/2021/12/24/linux-chang-yong-ming-ling/" title="Linux常用启动服务常用命令">Linux常用启动服务常用命令</a></li></ul><p>article/details/80467224)</p><h2>2. 安装Rdis</h2><h3>2.1 Redis 介绍</h3>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspRedis是当前比较热门的NOSQL系统之一，它是一个key-value存储系统。<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp和Memcache类似，但很大程度补偿了Memcache的不足，它支持存储的value类型相对更多，包括<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspstring、list、set、zset和hash。<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp这些数据类型都支持push/pop、add/remove及取交集并集和差集及更丰富的操作。在此基础上，Redis<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp支持各种不同方式的排序。<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp    和Memcache一样，Redis数据都是缓存在计算机内存中，不同的是，Memcache只能将数据缓存到内<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp存中，无法自动定期写入硬盘，<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp这就表示，一断电或重启，内存清空，数据丢失。所以Memcache的应用场景适用于缓存无需持久化的<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp数据。而Redis不同的是它会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，实<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp现数据的持久化。<h3>2.2 Redis 安装</h3><ul><li><p>下载 redis 进入官网下载地址： <a href="https://redis.io/download">https://redis.io/download</a><br><img src="/2021/12/26/linux-huan-jing-pei-zhi-tomcat-he-redis/Redis/re1.png" alt></p></li><li><p>解压</p><p>通过远程管理工具，将压缩包拷贝到 Linux 服务器中，执行解压操作。</p>  <pre class="line-numbers language-none"><code class="language-none">cd &#x2F;local 切换到redis安装包所在目录下tar zxvf 安装包全部名字包括后缀<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>安装</p><p>为了统一方便管理，我们要将这个文件移动到指定的目录下</p>  <pre class="line-numbers language-none"><code class="language-none">mv &#x2F;root&#x2F;redis-5.0.7 &#x2F;usr&#x2F;local&#x2F;redis #移动文件夹位置并修改名称<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>执行 make 命令进行编译</p>  <pre class="line-numbers language-none"><code class="language-none">make<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>安装 redis</p>  <pre class="line-numbers language-none"><code class="language-none">make PREFIX&#x3D;&#x2F;usr&#x2F;local&#x2F;redis install #安装并指定安装路径，方便管理，统一在redis目录下<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>启动 Redis</p>  <pre class="line-numbers language-none"><code class="language-none">.&#x2F;bin&#x2F;redis-server&amp; .&#x2F;redis.conf  #后台启动方式.&#x2F;bin&#x2F;redis-server .&#x2F;redis.conf   #显示启动方式<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h3>2.3 redis.conf文件</h3><ul><li><p>修改 redis.conf 文件</p><p>在目录 /usr/local/redis 下有一个 redis.conf 的配置文件。我们上面启动方式就是执行了该配置文件的配置运行的。我么可以通过 cat、vim、less 等 Linux 内置的读取命令读取该文件。</p></li><li><p>redis.conf 参数</p></li></ul><table>  <tr>    <th>配置项名称</th>    <th>配置项值范围</th>    <th>说明</th>  </tr>  <tr>    <td>daemonize</td>    <td>yes、no</td>    <td>yes表示启用守护进程，默认是no即不以守护进程方式运行。其中Windows系统下不支持启用守护进程方式运行</td>  </tr>  <tr>    <td>port</td>    <td></td>    <td>指定 Redis 监听端口，默认端口为 6379</td>  </tr>  <tr>  <td>bind</td>  <td></td>  <td>绑定的主机地址,如果需要设置远程访问则直接将这个属性备注下或者改为bind * 即可,这个属性和下面的protected-mode控制了是否可以远程访问 。</td>  </tr>  <tr>  <td>protected-mode</td>  <td>yes 、no</td>  <td>保护模式，该模式控制外部网是否可以连接redis服务，默认是yes,所以默认我们外网是无法访问的，如需外网连接rendis服务则需要将此属性改为no。</td>  </tr>  <tr>  <td>timeout</td>  <td>300</td>  <td>当客户端闲置多长时间后关闭连接，如果指定为 0，表示关闭该功能</td>  </tr>  <tr>  <td>loglevel</td>  <td>debug、verbose、notice、warning</td>  <td>日志级别，默认为 notice</td>  </tr>  <tr>  <td>databases</td>  <td>16</td>  <td>设置数据库的数量，默认的数据库是0。整个通过客户端工具可以看得到  </td>  </tr>  <tr>  <td>rdbcompression</td>  <td>yes、no</td>  <td>指定存储至本地数据库时是否压缩数据，默认为 yes，Redis 采用 LZF 压缩，如果为了节省 CPU 时间，可以关闭该选项，但会导致数据库文件变的巨大。</td>  </tr>  <tr>  <td>dbfilename</td>  <td>dump.rdb</td>  <td>指定本地数据库文件名，默认值为 dump.rdb</td>  </tr>  <tr>  <td>dir</td>  <td></td>  <td>指定本地数据库存放目录</td>  </tr>  <tr>  <td>requirepass</td>  <td></td>  <td>设置 Redis 连接密码，如果配置了连接密码，客户端在连接 Redis 时需要通过 AUTH < password > 命令提供密码，默认关闭</td>  </tr>  <tr>  <td>maxclients</td>  <td>0</td>  <td>设置同一时间最大客户端连接数，默认无限制，Redis 可以同时打开的客户端连接数为 Redis 进程可以打开的最大文件描述符数，如果设置 maxclients 0，表示不作限制。当客户端连接数到达限制时，Redis 会关闭新的连接并向客户端返回 max number of clients reached 错误信息。</td>  </tr>  <tr>  <td>maxmemory</td>  <td>XXX < bytes ></td>  <td>指定 Redis 最大内存限制，Redis 在启动时会把数据加载到内存中，达到最大内存后，Redis 会先尝试清除已到期或即将到期的 Key，当此方法处理 后，仍然到达最大内存设置，将无法再进行写入操作，但仍然可以进行读取操作。Redis 新的 vm 机制，会把 Key 存放内存，Value 会存放在 swap 区。配置项值范围列里XXX为数值。</td>  </tr></table><ul><li><p>修改内容</p><p>这里我要将 daemonize 改为 yes，不然我每次启动都得在 redis-server 命令后面加符号 &amp;，不这样操作则只要回到 Linux 控制台则 redis 服务会自动关闭，同时也将 bind 注释，将 protected-mode 设置为 no。这样启动后我就可以在外网访问了。<br><br>更改方式</p>  <pre class="line-numbers language-none"><code class="language-none">vim &#x2F;usr&#x2F;local&#x2F;redis&#x2F;redis.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>通过 /daemonize  查找到属性，默认是 no，更改为 yes 即可。 (通过 / 关键字查找出现多个结果则使用 n 字符切换到下一个即可，查找到结果后输入:noh 退回到正常模式)</p><p>其他两个属性也是同样方式查找和编辑即可。</p></li></ul><h3>2.4  查看Redis是否正在运行</h3><ul><li>1、采取查看进程方式  <pre class="line-numbers language-none"><code class="language-none">ps -aux | grep redis<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="/2021/12/26/linux-huan-jing-pei-zhi-tomcat-he-redis/Redis/re2.png" alt></li><li>2、采取端口监听查看方式  <pre class="line-numbers language-none"><code class="language-none">netstat -lanp | grep 6379<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="/2021/12/26/linux-huan-jing-pei-zhi-tomcat-he-redis/Redis/re3.png" alt></li></ul><h3>2.5 Redis其他命令</h3><ul><li><p>redis-cli</p><p>redis-cli 是连接本地 redis 服务的一个命令，通过该命令后可以既然怒 redis 的脚本控制台。如下图</p><p><img src="/2021/12/26/linux-huan-jing-pei-zhi-tomcat-he-redis/Redis/re4.png" alt></p><p>输入 exit 可以退出 redis 脚本控制台</p></li><li><p>关闭运行中的 Redis 服务<br>输入 redis-cli 进入控制台后输入命令 shutdown 即可关闭运行中的 Redis 服务了。如下图:</p><p><img src="/2021/12/26/linux-huan-jing-pei-zhi-tomcat-he-redis/Redis/re5.png" alt></p></li></ul><h2>声明</h2><ul><li>本文 Tomcat 部分内容转载引用 CSDN 博主：<a href="https://blog.csdn.net/fukai8350/">LuuCloud</a></li><li>本文 Redis 部分内容转载引用博客园园主：<a href="https://www.cnblogs.com/hunanzp/p/12304622.html">长沙大鹏</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件工具安装与配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux下MySQL和Java的配置</title>
      <link href="/2021/12/25/linux-xia-mysql-he-java-de-pei-zhi/"/>
      <url>/2021/12/25/linux-xia-mysql-he-java-de-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h1>Linux下MySQL和Java的配置</h1><h2>1. Java的配置</h2><h3>1.1 查看Java环境</h3><ul><li><p>查看安装的 Linux 系统中是否已经安装了 Java，输入命令</p><p><code>  java -version  </code></p><p>如果已经存在了 Java 的环境如下图，那么执行下面命令，如果不存在请直接跳转到下载配置</p></li><li><p>输入命令：</p><p><code>  rpm -qa | grep java  </code></p><p>以上文件中，noarch 文件不用删除。下面执行删除命令：</p>  <pre class="line-numbers language-none"><code class="language-none">rpm -e --nodeps java-1.7.0-openjdk-1.7.0.221-2.6.18.0.el7_6.x86_64rpm -e --nodeps java-1.7.0-openjdk-headless-1.7.0.221-2.6.18.0.el7_6.x86_64rpm -e --nodeps java-1.8.0-openjdk-1.8.0.212.b04-0.el7_6.x86_64rpm -e --nodeps java-1.8.0-openjdk-headless-1.8.0.212.b04-0.el7_6.x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>No such file or directory 表示删除成功</p></li></ul><h3>1.2 安装Java</h3><ul><li><p>下载安装包</p><p>去 oracle 官网下载 Linux 版本压缩包</p><br>下载地址：<a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a><p></p></li><li><p>解压</p><p>键入命令：ls，查看当前目录下的文件</p><p></p><p>输入上面可以看到这个目录下的文件，Java 压缩包已经在里面了，现在就是要解压出来</p><br>输入命令<p></p><p><code>  tar -zxvf jdk-8u201-linux-x64.tar.gz  </code></p></li></ul><h3>1.3 配置环境变量</h3><ol><li><p>编辑全局变量：</p><p><code> vim /etc/profile </code></p></li><li><p>vim 是文本编辑命令，即编辑全局变量文件 profile</p></li><li><p>进入文本编辑状态后，shift+G 让光标移动到最后一行，再按下 i 键，进入插入状态<br>；</p></li><li><p>在文本的最后一行粘贴一下内容：</p><pre class="line-numbers language-none"><code class="language-none">#java enviromentexport JAVA_HOME&#x3D;&#x2F;root&#x2F;jdk1.8.0_201export CLASSPATH&#x3D;.:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;rt.jar:$&#123;JAVA_HOME&#125;&#x2F;lib&#x2F;dt.jar:$&#123;JAVA_HOME&#125;&#x2F;lib&#x2F;tools.jarexport PATH&#x3D;$PATH:$&#123;JAVA_HOME&#125;&#x2F;bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>退出并保存：（记得按 esc 键）</p><p><code>:wq!</code></p></li></ol><h3>1.4 查看是否配置成功</h3><ul><li>输入以下命令   <pre class="line-numbers language-none"><code class="language-none">source &#x2F;etc&#x2F;profile  执行代码让系统读取新的环境变量java -version        执行代码可以查看JDK是否成功配置<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h1>2. MySQL的配置</h1><h2>1. 安装前准备</h2><br><h3>1.1 检查环境</h3><ul><li><p>安装前还是先看下当前环境是否已经安装了 MySQL<br>1. 检查是否已经安装了 MySQL</p><p><code>  rpm -qa | grep mysql  </code></p></li><li><p>如果已存在，则执行删除命令 后边为 Mysql 目录</p><p><code>  rpm -e --nodeps mysql-xxxx  </code></p></li><li><p>查询所有 Mysql 对应的文件夹</p>  <pre class="line-numbers language-none"><code class="language-none">whereis mysqlmfind &#x2F; -name mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>删除相关目录或文件</p><p><code>  rm -rf /usr/bin/mysql /usr/include/mysql /data/mysql /data/mysql/mysql   </code></p></li><li><p>验证是否删除完毕</p>  <pre class="line-numbers language-none"><code class="language-none">whereis mysqlmfind &#x2F; -name mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>检查 mysql 用户组和用户是否存在，如果没有，则创建</p>  <pre class="line-numbers language-none"><code class="language-none">cat &#x2F;etc&#x2F;group | grep mysqlcat &#x2F;etc&#x2F;passwd |grep mysqlgroupadd mysqluseradd -r -g mysql mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3>2.2 安装MySQL</h3><ul><li><p>从官网下载是用于 Linux 的 Mysql 安装包</p></li><li><p>在你的上传目录下找到 Mysql 安装包：<br><br>mysql-5.7.24-linux-glibc2.12-x86_64.tar.gz</p></li><li><p>执行解压命令：</p><p><code>  tar xzvf mysql-5.7.24-linux-glibc2.12-x86_64.tar.gz[  </code></p></li><li><p>移动并重命名</p><p><code>  mv mysql-5.7.26-linux-glibc2.12-x86_64 /usr/local/mysql  </code></p></li><li><p>创建 MySQL 用户和组并修改权限</p>  <pre class="line-numbers language-none"><code class="language-none">groupadd mysqluseradd -r -g mysql mysqlmkdir -p  &#x2F;data&#x2F;mysql              #创建目录chown mysql:mysql -R &#x2F;data&#x2F;mysql   #赋予权限<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>创建配置文件 my.cnf</p><p><code>  vim /etc/my.cnf  </code></p></li><li><p>my.cnf 中的内容</p>  <pre class="line-numbers language-none"><code class="language-none">[mysqld]bind-address&#x3D;0.0.0.0port&#x3D;3306user&#x3D;mysqlbasedir&#x3D;&#x2F;usr&#x2F;local&#x2F;mysqldatadir&#x3D;&#x2F;data&#x2F;mysqlsocket&#x3D;&#x2F;tmp&#x2F;mysql.socklog-error&#x3D;&#x2F;data&#x2F;mysql&#x2F;mysql.errpid-file&#x3D;&#x2F;data&#x2F;mysql&#x2F;mysql.pid#character configcharacter_set_server&#x3D;utf8mb4symbolic-links&#x3D;0explicit_defaults_for_timestamp&#x3D;true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>初始化数据库</p><p>进入 mysql 的 bin 目录</p>  <pre class="line-numbers language-none"><code class="language-none">cd &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin&#x2F;.&#x2F;mysqld --defaults-file&#x3D;&#x2F;etc&#x2F;my.cnf --basedir&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql&#x2F; --datadir&#x3D;&#x2F;data&#x2F;mysql&#x2F; --user&#x3D;mysql --initialize<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>查看密码</p><p><code>  cat /data/mysql/mysql.err  </code></p></li><li><p>启动 MySQL</p>  <pre class="line-numbers language-none"><code class="language-none">service mysql startps -ef|grep mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>到这里 MySQL 已经安装成功了</p><p>修改密码，刚才的密码是随机生成的，需要设置自己的密码</p><p><code>  ./mysql -u root -p   #在MySQL的bin目录下执行,这是登录MySQL  </code></p><p>在执行下面的操作，重新登录</p>  <pre class="line-numbers language-none"><code class="language-none">SET PASSWORD &#x3D; PASSWORD(&#39;123456&#39;);ALTER USER &#39;root&#39;@&#39;localhost&#39; PASSWORD EXPIRE NEVER;FLUSH PRIVILEGES;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>但是这个时候远程是连不上的</p><p>登录数据库后执行下面的命令</p>  <pre class="line-numbers language-none"><code class="language-none">use mysql               #访问mysql库update user set host &#x3D; &#39;%&#39; where user &#x3D; &#39;root&#39;;   #使root能再任何host访问FLUSH PRIVILEGES;       #刷新<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><h2>结束</h2><ul><li><p>如果不希望每次都到 bin 目录下使用 mysql 命令则执行以下命令：</p><p><code>  ln -s  /usr/local/mysql/bin/mysql    /usr/bin  </code></p></li><li><p>因为我在虚拟机上都已经配置好了，就没有再重新配置，有机会的话，就重新配然后记录一下个更新这篇文章</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件工具安装与配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows下的java安装与配置</title>
      <link href="/2021/12/24/windows-xia-de-java-an-zhuang-yu-pei-zhi/"/>
      <url>/2021/12/24/windows-xia-de-java-an-zhuang-yu-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h1>Windows下的java安装与配置详细教程</h1><h2>第一步：安装Java</h2><p>JDK 官网下载地址：<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p><br>因为我下载 Java 是为了开发使用，所以选择 JDK Download 来下载全套的开发工具，当然也包含 JRE，两者的区别可以看我的另一篇博客：<a href="https://www.cnblogs.com/tongying/p/13278082.html">https://www.cnblogs.com/tongying/p/13278082.html</a><p></p><br><img src="https://img-blog.csdnimg.cn/img_convert/28e21d25857fcdffaa383d0821c498a4.png" alt><p></p><br><img src="https://img-blog.csdnimg.cn/img_convert/a50ef8a8be04fea04d6e436b6da0e6eb.png" alt><p></p><br>现在官网已经升级到 JDK16 了，大家可以根据自己的需要选择下载的版本，我电脑上选择安装 JDK8，这也是目前使用的最广的版本，下载完的安装程序如下：<p></p><br><img src="https://img-blog.csdnimg.cn/img_convert/89ea183e91b4bcb00187b7bb29cc60c4.png" alt><p></p><br>双击上面的 exe 程序进行安装，整个过程非常简单，安装路径选择默认 C 盘即可：<p></p><br><img src="https://img-blog.csdnimg.cn/img_convert/a2f996b4ceb26d4e9ada8698e99244f7.png" alt><p></p><br>安装完成后，在安装路径下可以看到两个文件夹 JDK 和 JRE。<p></p><p></p><h2>第二步：部署环境变量</h2>安装好后还需要配置环境变量才能正常使用Java。<p>点击计算机 -&gt; 属性 -&gt; 高级系统设置 -&gt; 环境变量，新建如下变量：</p><p>在 &quot;用户变量&quot; 中设置 3 项属性，JAVA_HOME，CLASSPATH (不区分大小写)，PATH，若已存在则点击 &quot;编辑&quot;，注意用分号与前面的隔开，不存在则点击 &quot;新建&quot;。</p><p>变量设置参数如下：</p><p>变量名：JAVA_HOME 变量值：C:\Program Files\Java\jdk1.7.0</p><p>变量名：Path 变量值：% JAVA_HOME%\bin;% JAVA_HOME%\jre\bin 注意：中间有分号，末尾没有分号</p><p>变量名：CLASSPATH 变量值 .;% JAVA_HOME%\lib\dt.jar;% JAVA_HOME%\lib\tools.jar    注意：这前面有一个点‘.;’，中间有分号，末尾没有分号</p><br><img src="https://img-blog.csdnimg.cn/img_convert/d801787f27a3a4a57b8c19b74c732dd8.png" alt><p></p><br><img src="https://img-blog.csdnimg.cn/img_convert/210f6dcf114407172e04634f94a7bf68.png" alt><p></p><br><img src="https://img-blog.csdnimg.cn/img_convert/e2e5e2fdbe0a07a36198e94e440fb7cf.png" alt><p></p><br>确定，保存，退出环境变量配置。在 cmd 窗口输入 java -version 检验一下 java 版本和配置情况，返回如下信息说明 java 已经安装配置完毕：<p></p><br><img src="https://img-blog.csdnimg.cn/img_convert/791d8dbea74dadebfee2d9998d9f1d43.png" alt><p></p><p></p><h2>声明：</h2>本人只是将别人写好的拿来来做个笔记，原文链接如下，这个还是蛮简单的，自己再次重新部署还麻烦，所以就这么操作，见谅！<br>版权声明：本文为CSDN博主「臀总」的原创文章，<br>原文链接：https://blog.csdn.net/weixin_28724003/article/details/114157778<br>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件工具安装与配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux常用命令</title>
      <link href="/2021/12/24/linux-chang-yong-ming-ling/"/>
      <url>/2021/12/24/linux-chang-yong-ming-ling/</url>
      
        <content type="html"><![CDATA[<h1> Linux的介绍及常用命令</h1><h3>Linux简介<h3><p><img src="https://img0.baidu.com/it/u=3005879718,4119137912&amp;fm=26&amp;fmt=auto" alt></p><ul><li>来源百度百科</li></ul><h3>Linux简介</h3>    Linux，全称GNU/Linux，是一种免费使用和自由传播的类UNIX操作系统，其内核由林纳斯·本纳第克特·托瓦兹于1991年10月5日首次发布，它主要受到Minix和Unix思想的启发，是一个基于POSIX的多用户、多任务、支持多线程和多CPU的操作系统。它能运行主要的Unix工具软件、应用程序和网络协议。它支持32位和64位硬件。Linux继承了Unix以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。Linux有上百种不同的发行版，如基于社区开发的debian、archlinux，和基于商业开发的Red Hat Enterprise Linux、SUSE、Oracle Linux等。<h3> Linux特点</h3>    Linux，全称GNU/Linux，是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX的多用户、多任务、支持多线程和多CPU的操作系统。伴随着互联网的发展，Linux得到了来自全世界软件爱好者、组织、公司的支持。它除了在服务器方面保持着强劲的发展势头以外，在个人电脑、嵌入式系统上都有着长足的进步。使用者不仅可以直观地获取该操作系统的实现机制，而且可以根据自身的需要来修改完善Linux，使其最大化地适应用户的需要。<h3> 主要特性</h3><ul><li><p><strong>基本思想</strong></p><p>Linux 的基本思想有两点：第一，一切都是文件；第二，每个文件都有确定的用途。其中第一条详细来讲就是系统中的所有都归结为一个文件，包括命令、硬件和软件设备、操作系统、进程等等对于操作系统内核而言，都被视为拥有各自特性或类型的文件。至于说 Linux 是基于 Unix 的，很大程度上也是因为这两者的基本思想十分相近。</p></li><li><p><strong>完全免费</strong></p><p>Linux 是一款免费的操作系统，用户可以通过网络或其他途径免费获得，并可以任意修改其源代码。这是其他的操作系统所做不到的。正是由于这一点，来自全世界的无数程序员参与了 Linux 的修改、编写工作，程序员可以根据自己的兴趣和灵感对其进行改变，这让 Linux 吸收了无数程序员的精华，不断壮大。</p></li><li><p><strong>完全兼容 POSIX1.0 标准</strong></p><p>这使得可以在 Linux 下通过相应的模拟器运行常见的 DOS、Windows 的程序。这为用户从 Windows 转到 Linux 奠定了基础。许多用户在考虑使用 Linux 时，就想到以前在 Windows 下常见的程序是否能正常运行，这一点就消除了他们的疑虑。</p></li><li><p><strong>多用户、多任务</strong></p><p>Linux 支持多用户，各个用户对于自己的文件设备有自己特殊的权利，保证了各用户之间互不影响。多任务则是现代电脑最主要的一个特点，Linux 可以使多个程序同时并独立地运行。</p></li><li><p><strong>良好的界面</strong></p><p>Linux 同时具有字符界面和图形界面。在字符界面用户可以通过键盘输入相应的指令来进行操作。它同时也提供了类似 Windows 图形界面的 X-Window 系统，用户可以使用鼠标对其进行操作。在 X-Window 环境中就和在 Windows 中相似，可以说是一个 Linux 版的 Windows。</p></li><li><p><strong>支持多种平台</strong></p><p>Linux 可以运行在多种硬件平台上，如具有 x86、680x0、SPARC、Alpha 等处理器的平台。此外 Linux 还是一种嵌入式操作系统，可以运行在掌上电脑、机顶盒或游戏机上。2001 年 1 月份发布的 Linux 2.4 版内核已经能够完全支持 Intel64 位芯片架构。同时 Linux 也支持多处理器技术。多个处理器同时工作，使系统性能大大提高。</p></li><li><p><strong>优点</strong></p><p>1.Linux 由众多微内核组成，其源代码完全开源；</p><p>2.Linux 继承了 Unix 的特性，具有非常强大的网络功能，其支持所有的因特网协议，包括 TCP/IPv4、TCP/IPv6 和链路层拓扑程序等，且可以利用 Unix 的网络特性开发出新的协议栈；</p><p>3.Linux 系统工具链完整，简单操作就可以配置出合适的开发环境，可以简化开发过程，减少开发中仿真工具的障碍，使系统具有较强的移植性；</p></li></ul><h2>常用基本命令</h2><ul><li>Tomcat 命令  <pre class="line-numbers language-none"><code class="language-none">.&#x2F;startup.sh &#x2F;&#x2F;启动Tomcat: .&#x2F;shutdown.sh &#x2F;&#x2F;关闭Tomcat:.&#x2F;catalina.sh run &#x2F;&#x2F;直接启动显示输出台&#x2F;&#x2F;实时显示日志输出台,（在logs目录下）Ctrl+c退出控制台 后台暂停运行tail -f catalina.outps -ef|grep java &#x2F;&#x2F;查看tomcat是否关闭kill -9 端口 &#x2F;&#x2F;杀死tomcat进程<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>MySQL 相关命令  <pre class="line-numbers language-none"><code class="language-none">查看MySQL启动状态：service mysqld status启动MySQL服务service mysqld start关闭MySQL服务service mysqld stop重启MySQL服务service mysqld restart解压MySQL：tar -xvf mysql-5.7.26-linux-glibc2.12-x86_64.tar 移动MySQL目录mv mysql-5.7.26-linux-glibc2.12-x86_64 &#x2F;usr&#x2F;local&#x2F;mysqlMySQLbin目录cd &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin移动mysql.server文件cp &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;support-files&#x2F;mysql.server &#x2F;etc&#x2F;init.d&#x2F;mysql启动MySQL失败权限问题问题：mysqld_safe error: log-error set to &#39;&#x2F;var&#x2F;log&#x2F;mariadb&#x2F;mariadb.log&#39;, however file don&#39;t exists. Create writable for user &#39;mysql&#39;.ERROR! The server quit without updating PID file (&#x2F;data&#x2F;mysql&#x2F;mysql.pid).bin目录root用户执行以下命令：mkdir &#x2F;var&#x2F;log&#x2F;mariadbtouch &#x2F;var&#x2F;log&#x2F;mariadb&#x2F;mariadb.logchown -R mysql:mysql &#x2F;var&#x2F;log&#x2F;mariadb&#x2F;bin目录进入mysql.&#x2F;mysql -u root -pbin目录查看MySQL密码：cat &#x2F;data&#x2F;mysql&#x2F;mysql.errMySQL远程登录被拒：use mysql                                            #访问mysql库update user set host &#x3D; &#39;%&#39; where user &#x3D; &#39;root&#39;;      #使root能再任何host访问FLUSH PRIVILEGES;                                    #刷新如果不希望每次都到bin目录下使用mysql命令则执行以下命令ln -s  &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin&#x2F;mysql    &#x2F;usr&#x2F;bin导入数据库表source 导入表的绝对路径<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>其他命令  <pre class="line-numbers language-none"><code class="language-none">将程序挂在后台运行Ctrl+z  ## 先暂停运行jobs    ## 查看后台进程编号bg [作业编号]  ##使用bg命令让程序在后台继续运行给文件夹或文件夹赋权chmod u+x &lt;*.sh文件类型，后缀&gt; &lt;文件夹相对路径&gt;查看网络是否开启ifconfig若没有IP地址，修改网卡配置文件cd  &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;vi    ifcfg-eno16777736把ONBOOT  改为yes,并保存退出如果报了SSLHandshakeException: No appropriate protocol错误，这是由于jdk版本过高导致在jdbc连接池中加入useSSL&#x3D;false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2>待更新。。。</h2></h3></h3>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 服务器操作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一路走来</title>
      <link href="/2021/12/22/fist/"/>
      <url>/2021/12/22/fist/</url>
      
        <content type="html"><![CDATA[<h1>职业生涯，永不停息</h1><ul><li><h2>先来张图</h2></li></ul><p><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2F2020-10-30%2F5f9bcb9f1f249.jpg&amp;refer=http%3A%2F%2Fpic1.win4000.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=jpeg?sec=1642763339&amp;t=a58841c43cde30c374087dbea6450f81.jpg" alt></p><h2>想看更好看的吗？</h2><p><a href="https://pic.netbian.com/4kmeinv/">彼岸花图网</a></p><ul><li>人家赞助了，所以在这里打个广告</li></ul><h2>计划</h2><ul><li>作为一个入行已经两年的互联网工作者，终于是完成了这个博客的搭建，虽说依靠了不少人的帮忙，但是终归是有了自己的博客，自己去运营维护。</li><li>后期我会将自己保存的所有文档慢慢的给补充到这个里面，也会慢慢修改这个博客的样式主题，使它能够更舒适更美观</li><li>敬请期待</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 壁纸 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
